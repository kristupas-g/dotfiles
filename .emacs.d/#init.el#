(require 'use-package)
E


(USE-PACKAGE USE-PACKAGE
  :CONFIG
  :CUSTOM
  (USE-PACKAGE-ALWAYS-ENSURE T)  
  (PACKAGE-NATIVE-COMPILE T))

(USE-PACKAGE EMACS
  :INIT
  (HL-LINE-MODE 1)
  (GLOBAL-AUTO-REVERT-MODE 1)
  (SAVE-PLACE-MODE 1)
  :CONFIG
  (SETQ INITIAL-MAJOR-MODE 'FUNDAMENTAL-MODE)
  (SET-DEFAULT-CODING-SYSTEMS 'UTF-8-UNIX)
  (SETQ CONFIRM-KILL-PROCESSES NIL)
  (SETQ USE-SHORT-ANSWERS T)      
  (SETQ SCROLL-MARGIN 9)
  (SETQ-DEFAULT LINE-SPACING 6)
  (SETQ MAKE-BACKUP-FILNES NIL)
  (SETQ AUTO-SAVE-DEFAULT NIL)
  (SETQ INHIBIT-STARTUP-MESSAGE T)
  (SETQ CUSTOM-FILE (CONCAT USER-EMACS-DIRECTORY "/CUSTOM.EL"))
  (LOAD CUSTOM-FILE 'NOERROR 'NOMESSAGE)
  (SETQ VC-FOLLOW-SYMLINKS T)
  (SETQ TAB-ALWAYS-INDENT 'COMPLETE)
  (SETQ-DEFAULT INDENT-TABS-MODE NIL)
  (SETQ COMP-ASYNC-REPORT-WARNINGS-ERRORS NIL)
  (SETQ MAC-OPTION-KEY-IS-META NIL
        MAC-COMMAND-KEY-IS-META T
        MAC-COMMAND-MODIFIER 'META
        MAC-OPTION-MODIFIER 'NONE)
)


(SETQ GC-CONS-THRESHOLD MOST-POSITIVE-FIXNUM)

(SETQ LOAD-PREFER-NEWER NONINTERACTIVE)

(SETQ PACKAGE-ENABLE-AT-STARTUP NIL)

(SETQ PACKAGE-QUICKSTART T)


(ADD-TO-LIST 'DEFAULT-FRAME-ALIST '(UNDECORATED . T))
(ADD-TO-LIST 'INITIAL-FRAME-ALIST '(FULLSCREEN . MAXIMIZED))
(ADD-TO-LIST 'DEFAULT-FRAME-ALIST '(FULLSCREEN . MAXIMIZED))

;; TRANSPERANCY
(SET-FRAME-PARAMETER (SELECTED-FRAME) 'ALPHA '(93 . 50))
(ADD-TO-LIST 'DEFAULT-FRAME-ALIST '(ALPHA . (93 . 50)))

(SET-FRINGE-MODE 40)

(SETQ NATIVE-COMP-ASYNC-REPORT-WARNINGS-ERRORS NIL)
(MESSAGE "EARLY INIT")


(SET-FACE-ATTRIBUTE 'DEFAULT NIL :FONT "IOSEVKA NERD FONT MONO" :HEIGHT 170 :WEIGHT 'EXTRA-LIGHT)
(SET-FACE-ATTRIBUTE 'FIXED-PITCH NIL :FONT "JETBRAINSMONO NERD FONT MONO" :HEIGHT 170)
(SET-FACE-ATTRIBUTE 'VARIABLE-PITCH NIL :FONT "LIGA SFMONO NERD FONT" :HEIGHT 170)

(KEYMAP-GLOBAL-SET "<ESCAPE>" 'KEYBOARD-ESCAPE-QUIT)
(KEYMAP-GLOBAL-SET "M-P" 'PREVIOUS-BUFFER)
(KEYMAP-GLOBAL-SET "M-N" 'NEXT-BUFFER)

(USE-PACKAGE CATPPUCCIN-THEME
  :INIT
  (SETQ CATPPUCCIN-FLAVOR 'MACCHIATO)
  :CONFIG
  (LOAD-THEME 'CATPPUCCIN T))

(USE-PACKAGE VERTICO
  :INIT
  (VERTICO-MODE 1))

(USE-PACKAGE ORDERLESS
  :CUSTOM
  (COMPLETION-STYLES '(ORDERLESS BASIC))
  (COMPLETION-CATEGORY-OVERRIDES '((FILE (STYLES BASIC PARTIAL-COMPLETION)))))

(USE-PACKAGE CONSULT
  :BIND
  ("C-X B" . CONSULT-BUFFER)                
  ("C-X 4 B" . CONSULT-BUFFER-OTHER-WINDOW) 
  ("C-X 5 B" . CONSULT-BUFFER-OTHER-FRAME)  
  ("C-X R B" . CONSULT-BOOKMARK)            
  ("C-X P B" . CONSULT-PROJECT-BUFFER)      
  ("M-Y" . CONSULT-YANK-POP)                
  ("M-G E" . CONSULT-COMPILE-ERROR)
  ("M-G F" . CONSULT-FLYCHECK)              
  ("M-G G" . CONSULT-GOTO-LINE)             
  ("M-G M-G" . CONSULT-GOTO-LINE)           
  ("M-G O" . CONSULT-OUTLINE)               
  ("M-G M" . CONSULT-MARK)
  ("M-G K" . CONSULT-GLOBAL-MARK)
  ("M-G I" . CONSULT-IMENU)
  ("M-G I" . CONSULT-IMENU-MULTI)
  ("M-S G" . CONSULT-GREP)
  ("M-S E" . CONSULT-ISEARCH-HISTORY))

(USE-PACKAGE MARGINALIA
  :CONFIG (MARGINALIA-MODE 1))

(USE-PACKAGE SMARTPARENS 
  :CONFIG (SMARTPARENS-GLOBAL-MODE))

(USE-PACKAGE DOOM-MODELINE
  :CONFIG (DOOM-MODELINE-MODE 1)
  :INIT
  (SETQ DOOM-MODELINE-HEIGHT 15)
  (SETQ DOOM-MODELINE-MAJOR-MODE-ICON NIL)
  (SETQ DOOM-MODELINE-BUFFER-ENCODING NIL))

(USE-PACKAGE ALL-THE-ICONS
 :IF (DISPLAY-GRAPHIC-P))

(USE-PACKAGE RAINBOW-DELIMITERS
  :HOOK PROG-MODE)

(USE-PACKAGE EXPAND-REGION
  :BIND ("C-;" . 'ER/EXPAND-REGION))

(USE-PACKAGE WHICH-KEY
  :INIT (WHICH-KEY-MODE 1)
  :CONFIG
  (SETQ WHICH-KEY-IDLE-DELAY 0.3))

(USE-PACKAGE HIGHLIGHT-INDENT-GUIDES
  :HOOK PROG-MODE
  :INIT (SETQ HIGHLIGHT-INDENT-GUIDES-METHOD 'CHARACTER))

(USE-PACKAGE CORFU
  :CUSTOM
  (CORFU-CYCLE T)                
  (CORFU-AUTO T)                 
  (CORFU-QUIT-NO-MATCH T)      
  (CORFU-PREVIEW-CURRENT T)    
  (CORFU-SCROLL-MARGIN 6)        
  (CORFU-ECHO-MODE T)
  (CORFU-AUTO-DELAY T)
  (CORFU-ECHO-DELAY T)
  :HOOK ((PROG-MODE . CORFU-MODE)
         (ESHELL-MODE . CORFU-MODE))
  :INIT
  (GLOBAL-CORFU-MODE))

(USE-PACKAGE HELPFUL
  :BIND
  ("C-H P" . HELPFUL-AT-POINT)
  ("C-H C" . HELPFUL-COMMAND)
  ("C-H C" . HELPFUL-CALLABLE)
  ("C-H F" . HELPFUL-FUNCTION)
  ("C-H K" . HELPFUL-KEY)
  ("C-H V" . HELPFUL-VARIABLE)
  ("C-H R" . HELPFUL-VISIT-REFERENCE))

(USE-PACKAGE POPPER
  :CONFIG
  (SETQ POPPER-REFERENCE-BUFFERS
	'("\\*MESSAGES\\*"
          "\\*WARNINGS\\*"
          "\\*HELPFULN"
	  "OUTPUT\\*$"
	  "\\*ASYNC SHELL COMMAND\\*"
	  HELP-MODE
	  COMPILATION-MODE))
  :BIND (("C-/"   . POPPER-TOGGLE-LATEST)
         ("M-/" . POPPER-TOGGLE-TYPE))
  :INIT
  (POPPER-MODE 1)
  (POPPER-ECHO-MODE 1)) 

(USE-PACKAGE EXEC-PATH-FROM-SHELL
  :CONFIG
  (WHEN (MEMQ WINDOW-SYSTEM '(MAC NS X))
  (EXEC-PATH-FROM-SHELL-INITIALIZE)))

(USE-PACKAGE MAGIT
  :COMMANDS MAGIT-STATUS
  :CUSTOM
  (MAGIT-DISPLAY-BUFFER-FUNCTION #'MAGIT-DISPLAY-BUFFER-SAME-WINDOW-EXCEPT-DIFF-V1))

(USE-PACKAGE TREESIT-AUTO
  :CONFIG
  (SETQ TREESIT-AUTO-INSTALL 'PROMPT)
  :INIT
  (GLOBAL-TREESIT-AUTO-MODE))

(USE-PACKAGE EGLOT
  :HOOK
  (CSHARP-TS-MODE PYTHON-TS-MODE)
  :BIND (:MAP EGLOT-MODE-MAP))
(PUT 'UPCASE-REGION 'DISABLED NIL)
